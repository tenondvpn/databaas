(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b1c96fbe"],{"0178":function(e,t,r){"use strict";r("f007")},2009:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{ref:"login",staticClass:"login-container"},[t("div",{staticClass:"login-weaper animated bounceInDown",staticStyle:{position:"relative"}},[t("div",{staticClass:"login-left"},[t("img",{staticClass:"img",attrs:{height:"100%",src:e.clientLoginLeftImg(),alt:""}})]),t("div",{staticClass:"login-border"},[t("div",{staticClass:"login-main"},[t("router-link",{attrs:{to:"/portal/home"}},[t("div",{staticClass:"login-title-logo"},[t("img",{attrs:{src:"/favicon.png",alt:"login"}}),e._v("\n            "+e._s(e.getClientTitle())+"\n            ")])]),t("userLogin",{attrs:{tenantId:e.tenantId,cryptoEnable:e.cryptoEnable,redirectUrl:e.redirectUrl}})],1)]),t("div",{staticClass:"login-copyright"})])])},o=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),a=(r("96cf"),r("3b8d")),s=r("5880"),c=r("b964"),l=r("30e2"),u=r("af79"),p=r("ccbe"),f=r("0e0b"),d=r("a023");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={components:{userLogin:c["default"],legalPersonLogin:l["default"],phoneLogin:u["default"]},data:function(){return{activeName:"user",tenantId:"",cryptoEnable:"",redirectUrl:""}},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$route.query.redirectUrl&&(this.redirectUrl=decodeURIComponent(this.$route.query.redirectUrl));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){},computed:g({},Object(s["mapGetters"])(["website"])),props:[],methods:{clientLoginLeftImg:d["a"],getClientTitle:d["c"],version:d["l"],getCopyrightMain:d["d"],getCopyrightSub:d["e"],getTenant:function(){var e=this,t=Object(f["g"])();Object(p["info"])(t).then((function(t){var r=t.data;r.success&&r.data.tenantId?(e.tenantMode=!1,e.tenantId=r.data.tenantId,e.cryptoEnable=r.data.cryptoEnable):e.$message.warning("租户信息获取失败，请切换访问地址!")}))}}},b=h,y=(r("2198"),r("f743"),r("2877")),O=Object(y["a"])(b,n,o,!1,null,"6fe411db",null);t["default"]=O.exports},2198:function(e,t,r){"use strict";r("b4f6")},"30e2":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("el-form",{ref:"form",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.form,"label-width":"0"}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入统一社会信用代码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[t("i",{staticClass:"el-icon-user-solid",staticStyle:{"font-size":"16px"},attrs:{slot:"prefix"},slot:"prefix"})])],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{size:"small",type:e.passwordType,"auto-complete":"off",placeholder:e.$t("login.password")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[t("i",{staticClass:"el-icon-view el-input__icon",attrs:{slot:"suffix"},on:{click:e.showPassword},slot:"suffix"}),t("i",{staticClass:"el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),e.captchaMode?t("el-form-item",{attrs:{prop:"code"}},[t("div",{staticStyle:{display:"flex"}},[t("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.code")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}},[t("i",{staticClass:"icon-yanzhengma",attrs:{slot:"prefix"},slot:"prefix"})]),t("img",{staticClass:"login-code-img",attrs:{src:e.form.image},on:{click:e.refreshCode}})],1)]):e._e(),t("el-form-item",[t("el-button",{staticClass:"login-submit",attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v(e._s(e.$t("login.submit"))+"\n    ")])],1),t("div",{staticClass:"bottom-list"},[t("el-link",{attrs:{type:"primary",underline:!1},on:{click:e.register}},[e._v("立即注册")]),t("el-link",{attrs:{type:"primary",underline:!1},on:{click:e.forget}},[e._v("忘记密码")])],1)],1)},o=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),a=(r("96cf"),r("3b8d")),s=r("5880"),c=r("c24f"),l=r("c54a"),u=r("a023");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={name:"userLogin",props:{tenantId:String,redirectUrl:String,cryptoEnable:Boolean},data:function(){return{form:{username:"",password:"",type:"",code:"",key:"",image:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},loginRules:{username:[{required:!0,message:"请输入统一社会信用代码",trigger:"blur"},{validator:function(e,t,r){Object(l["f"])(t)?r():r(new Error("信用代码格式不正确"))},trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:1,message:"密码长度最少为6位",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:function(e,t,r){/^[a-zA-Z0-9]+$/g.test(t)?r():r(new Error("请输入英文字母或数字"))},trigger:"blur"}]},passwordType:"password"}},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.refreshCode();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){},computed:f(f({},Object(s["mapGetters"])(["tagWel"])),{},{captchaMode:function(){return Object(u["b"])()}}),methods:{refreshCode:function(){var e=this;Object(c["getCaptcha"])().then((function(t){var r=t.data;e.form.key=r.key,e.form.image=r.image}))},showPassword:function(){""===this.passwordType?this.passwordType="password":this.passwordType=""},register:function(){this.$router.push({path:"/register"})},forget:function(){this.$router.push({path:"/resetPassword",query:{isCompany:!0}})},handleLogin:function(){var e=this;this.$refs.form.validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}if(e.tenantId){t.next=4;break}return e.$message.warning("租户信息获取失败，请切换访问地址!"),t.abrupt("return");case 4:n=e.$loading({lock:!0,text:"登录中,请稍后...",spinner:"el-icon-loading"}),e.$store.dispatch("ClientLoginByUsername",f({tenantId:e.tenantId,cryptoEnable:e.cryptoEnable,systemType:3},e.form)).then(Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({path:e.redirectUrl||e.tagWel.value}),n.close();case 2:case"end":return t.stop()}}),t)})))).catch((function(t){console.log(t),n.close(),e.refreshCode()}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},m=d,g=(r("e6be"),r("2877")),h=Object(g["a"])(m,n,o,!1,null,"4d0431b8",null);t["default"]=h.exports},3446:function(e,t,r){"use strict";r("7aab")},"43c7":function(e,t,r){},"7aab":function(e,t,r){},af79:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("el-form",{ref:"form",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.form,"label-width":"0"}},[t("el-form-item",{attrs:{prop:"phone"}},[t("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入手机号码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}},[t("i",{staticClass:"el-icon-mobile-phone",staticStyle:{"font-size":"16px"},attrs:{slot:"prefix"},slot:"prefix"})])],1),t("el-form-item",{attrs:{prop:"smsCode"}},[t("el-row",{attrs:{span:24}},[t("el-col",{attrs:{span:16}},[t("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.code")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.smsCode,callback:function(t){e.$set(e.form,"smsCode",t)},expression:"form.smsCode"}},[t("i",{staticClass:"icon-yanzhengma",attrs:{slot:"prefix"},slot:"prefix"})])],1),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"login-code"},[t("el-button",{attrs:{plain:"",size:"small",disabled:e.isGetting},on:{click:e.getSmsCode}},[e._v(e._s(e.isGetting?"重新发送("+e.second+")":"获取验证码"))])],1)])],1)],1),t("el-form-item",[t("el-button",{staticClass:"login-submit",attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v(e._s(e.$t("login.submit"))+"\n    ")])],1),t("div",{staticClass:"bottom-list"},[t("el-link",{attrs:{type:"primary",underline:!1},on:{click:e.register}},[e._v("立即注册")]),t("el-link",{attrs:{type:"primary",underline:!1},on:{click:e.forget}},[e._v("忘记密码")])],1)],1)},o=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("96cf"),r("3b8d")),a=r("bd86"),s=r("5880"),c=r("aeca"),l=r("c54a");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={name:"phoneLogin",props:{tenantId:String,redirectUrl:String,cryptoEnable:Boolean},data:function(){return{form:{phone:"",smsCode:""},loginRules:{phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:function(e,t,r){Object(l["a"])(t)?r():r(new Error("手机号码格式不正确"))},trigger:"blur"}],smsCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]},type:0}},mixins:[c["a"]],computed:p({},Object(s["mapGetters"])(["tagWel"])),methods:{handleLogin:function(){var e=this;this.$refs.form.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}if(e.tenantId){t.next=4;break}return e.$message.warning("租户信息获取失败，请切换访问地址!"),t.abrupt("return");case 4:n=e.$loading({lock:!0,text:"登录中,请稍后...",spinner:"el-icon-loading"}),e.$store.dispatch("ClientLoginByPhone",p({tenantId:e.tenantId,cryptoEnable:e.cryptoEnable},e.form)).then(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({path:e.redirectUrl||e.tagWel.value}),n.close();case 2:case"end":return t.stop()}}),t)})))).catch((function(){n.close()}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},register:function(){this.$router.push({path:"/register"})},forget:function(){this.$router.push({path:"/resetPassword"})}}},d=f,m=(r("0178"),r("2877")),g=Object(m["a"])(d,n,o,!1,null,"dc737284",null);t["default"]=g.exports},b4f6:function(e,t,r){e.exports={themeColor:"#336df3"}},b964:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("el-form",{ref:"form",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.form,"label-width":"0"}},[t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{size:"small",type:e.passwordType,"auto-complete":"off",placeholder:"请输入私钥"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[t("i",{staticClass:"el-icon-view el-input__icon",attrs:{slot:"suffix"},on:{click:e.showPassword},slot:"suffix"}),t("i",{staticClass:"el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),e.captchaMode?t("el-form-item",{attrs:{prop:"code"}},[t("div",{staticStyle:{display:"flex"}},[t("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.code")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}},[t("i",{staticClass:"icon-yanzhengma",attrs:{slot:"prefix"},slot:"prefix"})]),t("img",{staticClass:"login-code-img",attrs:{src:e.form.image},on:{click:e.refreshCode}})],1)]):e._e(),t("el-form-item",[t("el-button",{staticClass:"login-submit",attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v(e._s(e.$t("login.submit"))+"\n    ")])],1)],1)},o=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),a=(r("96cf"),r("3b8d")),s=r("5880"),c=r("c24f"),l=(r("c54a"),r("a023"));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={name:"userLogin",props:{tenantId:String,redirectUrl:String,cryptoEnable:Boolean},data:function(){return{form:{password:""},loginRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入私钥",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:function(e,t,r){/^[a-zA-Z0-9]+$/g.test(t)?r():r(new Error("请输入英文字母或数字"))},trigger:"blur"}]},passwordType:"password"}},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.captchaMode){e.next=3;break}return e.next=3,this.refreshCode();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){},computed:p(p({},Object(s["mapGetters"])(["tagWel"])),{},{captchaMode:function(){return Object(l["b"])()}}),methods:{refreshCode:function(){var e=this;Object(c["getCaptcha"])().then((function(t){var r=t.data;e.form.key=r.key,e.form.image=r.image}))},showPassword:function(){""===this.passwordType?this.passwordType="password":this.passwordType=""},register:function(){this.$router.push({path:"/register"})},forget:function(){this.$router.push({path:"/resetPassword"})},handleLogin:function(){var e=this;this.$refs.form.validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r&&(n=e.$loading({lock:!0,text:"登录中,请稍后...",spinner:"el-icon-loading"}),e.$store.dispatch("ClientLoginByUsername",p({},e.form)).then(Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({path:e.redirectUrl||e.tagWel.value}),n.close();case 2:case"end":return t.stop()}}),t)})))).catch((function(t){console.log(t),n.close(),e.captchaMode&&e.refreshCode()})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},d=f,m=(r("3446"),r("2877")),g=Object(m["a"])(d,n,o,!1,null,"70fc0858",null);t["default"]=g.exports},c924:function(e,t,r){},e6be:function(e,t,r){"use strict";r("43c7")},f007:function(e,t,r){},f743:function(e,t,r){"use strict";r("c924")}}]);